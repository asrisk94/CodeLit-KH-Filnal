<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="counsel">

	<insert id="insertCounsel">
		insert into 
		counsel
		values(
			seq_counsel_no.nextval,
			#{refMemberId},
			#{counselCategory},
			#{counselTitle},
			#{counselContent},
			#{counselQno},
			#{counselLevel},
			#{counselDate}
			<where>
			<if test="_parameter gt 0">
			and counsel_Qno = #{_parameter}
			
			
			</if>
			</where>
			order by
			counsel_Qno
		)
	

	</insert>
	
	<select id="selectCounselList" resultType="lecture">
		
		<where>
		  
		<!--
			if 태그에서 파라미터를 getter로 가져오기 때문에 getter가 없는
			기본형변수나 String객체 등을 파라미터로 넘겼을때는 _parameter로 사용해야 함.
		-->
		<if test="_parameter gt 0">
			and counsel_category= #{_parameter}
		</if>
		</where>
		order by
		  counsel_no
	</select>
	
</mapper>